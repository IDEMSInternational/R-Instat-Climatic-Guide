<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>3&nbsp; More Practice with R-Instat – R-Instat Climatic Guide</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Chapter_3_Using_RInstat_effectively.html" rel="next">
<link href="./Chapter_1_About_this_guide.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Chapter_2_More_Practice_with_RInstat.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">More Practice with R-Instat</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">R-Instat Climatic Guide</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Acknowledgments</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_1_About_this_guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">About this guide</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_2_More_Practice_with_RInstat.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">More Practice with R-Instat</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_3_Using_RInstat_effectively.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Using R-Instat effectively</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_4_Getting_the_data_into_shape.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Getting the data into shape</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_5_Quantity_and_quality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Quantity and quality?</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_6_Preparing_summaries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Preparing summaries</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_7_Tailored_Products.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Tailored Products</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_8_Efficient_use_of_RInstat_and_R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Efficient use of R-Instat and R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_9_Gridded_Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Gridded Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_10_Comparing_Data_from_Different_Sources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Comparing Data from Different Sources</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_11_Drawing_Maps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Drawing Maps</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_12_Extremes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Extremes</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_13_PICSA__Long_Before_the_season.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">PICSA – Long Before the season</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_14_The_Seasonal_forecast.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">The Seasonal forecast</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_15_Fitting_and_using_stochastic_models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Fitting and using stochastic models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_16_Withinday_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Within-day data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_17_Circular_data_and_wind_roses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Circular data and wind roses</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_18_Temperatures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Temperatures</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_19_Drought_Indices__SPI.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Drought Indices – SPI</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_20_Climate_Normals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Climate Normals</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_21_Various.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Various</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_22_References.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">References</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_23_Appendix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Appendix</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">3.1</span> Introduction</a></li>
  <li><a href="#the-moorings-data" id="toc-the-moorings-data" class="nav-link" data-scroll-target="#the-moorings-data"><span class="header-section-number">3.2</span> The Moorings data</a></li>
  <li><a href="#the-objectives" id="toc-the-objectives" class="nav-link" data-scroll-target="#the-objectives"><span class="header-section-number">3.3</span> The objectives</a></li>
  <li><a href="#comparing-satellite-and-station-data" id="toc-comparing-satellite-and-station-data" class="nav-link" data-scroll-target="#comparing-satellite-and-station-data"><span class="header-section-number">3.4</span> Comparing satellite and station data</a></li>
  <li><a href="#in-conclusion" id="toc-in-conclusion" class="nav-link" data-scroll-target="#in-conclusion"><span class="header-section-number">3.5</span> In conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">More Practice with R-Instat</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">3.1</span> Introduction</h2>
<p>To use climatic data fully it is important to be able to deliver products. The two examples in this chapter describe the steps and the endpoint in this process. Data are supplied in the right form for the analysis. The objectives are specified, and your task is to prepare the tables and graphs for a report and a presentation.</p>
<p>Some familiarity with R-Instat is assumed. There are two initial tutorials and following those is enough preparation. If you have already used a statistics package before, then the examples below may be sufficient for you, even without the tutorials. This chapter is also designed to provide practice with R-Instat.</p>
<p>The first problem builds on a study in Southern Zambia. This is the most drought-prone area of the country. Everyone knew that there is 'climate change'! Some farmers were emigrating North, citing climate change as their reason. However, a local non-governmental organization (NGO) called the Conservation Farming Unit, questioned this reasoning for the rainfall data. They are not convinced that any climate change has necessarily affected the farming practices. They, therefore, commissioned a study that used daily climatic data from several stations in Southern Zambia. The results were supplied as a report, and presentations of the results were also made to the NGO and to the local FAO Officers. The results confirmed evidence of climate change in the temperature data, but not in the rainfall. The key conclusions were later made into short plays that were broadcast on local radio and played at village meetings.</p>
<p>Here we use data from Moorings, a site in Southern Zambia. The daily data, on rainfall, are from 1922 to 2009. Here, partly for simplicity, we largely use the monthly summaries.</p>
<p>For the work, we draw an analogy with the preparation of a meal. The first key requirement is that you have the food, which here is the climatic data. In a real meal, the food may be supplied in a form that is ready for cooking, or it may need preparation prior to cooking. Here the data are in pre-packed form, so the analysis can proceed quickly.</p>
<p>You also need the right tools. In a kitchen, they are the saucepans, etc, while here they are just the computer, together with the required software.</p>
<p>You need some general cooking skills. These are the basic computing skills, plus initial skills of R-Instat, at least from the tutorial.</p>
<p>Finally, your objectives must be clear. This corresponds to having a specific meal in mind so that a recipe can be used. Of course, you may have to adapt slightly as you go along. You might find some oddities in the data, just as cooks must improvise if they suddenly find that one of the ingredients is not available.</p>
<p>If everything is well organized, the cook can prepare the meal very quickly. This is just what is done in the products in this chapter. This leaves time to make sure the dishes, for us the results, are presented attractively. Then users will enjoy consuming what is presented.</p>
<p>Section 2.2 describes the data for this first task. Trends in the rainfall are examined in Section 2.3. A second problem, in Section 2.4, examines whether satellite data on sunshine hours resembles corresponding station data. Daily data from Dodoma, Tanzania, are used.</p>
<p>The data for each of these case studies are in the R-Instat library. The presentation is designed so users can repeat the analyses on their laptops.</p>
<p>Graphs are produced in each of these sections and the general methods for graphics in R-Instat is outlined in Section 2.5. Section 3.5 then adds a warning. R-Instat provides an easy-to-use click and point way of using the R programming language. It should help users to solve may problems. But a click-and-point system is not the right tool for all problems. We describe a problem that may require more programming skills, at least if you wish to prevent your computer from laughing at you!</p>
<p>This chapter demonstrates R-Instat as a simple general statistics package and the File, Prepare and Describe menus are used. It illustrates that a general statistics package is an appropriate tool for many climatic problems. It is also designed to consolidate your experience in using R-Instat. The special climatic menu is introduced in chapter 4.</p>
</section>
<section id="the-moorings-data" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="the-moorings-data"><span class="header-section-number">3.2</span> The Moorings data</h2>
<p>Monthly data are used in this part of the chapter. Daily data are the starting point in most of this guide because many of the objectives require daily data. But here the emphasis is on objectives for which the monthly data are suitable.</p>
<p>The data are already in an R-Instat file. Hence, they can be opened from the library in R-Instat library.</p>
<p>From the opening screen in R-Instat, select <strong><em>File &gt; Open From Library</em></strong> as shown in Fig. 2.2a. Choose <strong><em>Load From Instat Collection</em></strong>, Then <strong><em>Browse</em></strong> to the <strong><em>Climatic</em></strong> directory then to <strong><em>Zambia</em></strong>. <strong><em>Select</em></strong> the file called <strong><em>Moorings_July.rds</em></strong> to give the screen shown in Fig. 2.2b. Press <strong><em>Ok</em></strong>.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 56%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th><p><strong><em>Fig. 2.2a File &gt; Open from Library</em></strong></p>
<p><strong><em>(Climatic &gt; Zambia &gt; Moorings.RDS)</em></strong></p></th>
<th><strong><em>Fig. 2.2b Ready to import Moorings.RDS</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><img src="media/image 1404.png" style="width:3.35845in;height:3.04612in"></td>
<td><img src="media/image1409.png" class="img-fluid">{ width=“2.430002187226597in” hei ght=“2.7552777777777777in”}</td>
</tr>
</tbody>
</table>
<p>The resulting data are shown in Fig. 2.2c. There are 2 data frames. The one called Moorings has daily data.</p>
<p><strong><em>Move to the second data frame</em></strong> as shown in Fig. 2.2c which shows the monthly totals. They are the total rainfall in mm and the total number of rain days. A rain day was defined as a day with more than 0.85mm[^1].</p>
<table class="caption-top table">
<colgroup>
<col style="width: 47%">
<col style="width: 51%">
</colgroup>
<thead>
<tr class="header">
<th><strong><em>Fig. 2.2c The Moorings monthly data</em></strong></th>
<th><p><strong><em>Fig. 2.2d Boxplot dialogue on the Describe menu</em></strong></p>
<p><strong><em>Describe &gt; Specific &gt; Boxplot</em></strong></p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><img src="media/image1423.pn g" style="width:1.84414in;height:3.4744in"></td>
<td><img src="media/image141 6.png" style="width:3.09565in;height:2.32934in"></td>
</tr>
</tbody>
</table>
<p>Rainfall in Southern Zambia is from November to April. Hence, we analyze the data by season, rather than by year. There are 88 seasons from 1922 to 2009 and 1056 monthly values, as indicated in Fig. 2.2c.</p>
<p>The task is to write a short report that describes the patterns of rainfall. One aim is to assess whether there is obvious evidence of change in the pattern of rainfall. This evidence might justify requesting the data from multiple stations, to undertake a more detailed study. The first step is to explore the data, and then consider how appropriate results could be presented. To explore we start with a boxplot to show the seasonal pattern of the rainfall totals.</p>
<p>Choose the Boxplot dialogue from the Describe menu, with <strong><em>Describe &gt; Specific &gt; Boxplot</em></strong>, as shown in Fog. 2.2d. Complete the dialogue as shown in Fig. 2.2e. The resulting graph is shown in Fig. 2.2f[^2]. This shows the total rainfall was typically 200mm in each of December to February. There was always some rain in each of these months, and the records were over 500mm.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 48%">
</colgroup>
<thead>
<tr class="header">
<th><p><strong><em>Fig. 2.2e Completed boxplot dialogue</em></strong></p>
<p><strong><em>Describe &gt; Specific &gt; Boxplot</em></strong></p></th>
<th><strong><em>Fig. 2.2f Boxplot of monthly rainfall totals</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><img src="media/image1413 .png" style="width:3.10142in;height:3.54022in"></td>
<td><img src="media/image1424.p ng" style="width:2.96615in;height:3.09526in"></td>
</tr>
</tbody>
</table>
<p>Change the variable from rain to <strong><em>raindays</em></strong> in Fig. 2.2e to give the corresponding boxplots for the number of raindays in the month, Fig. 2.2g. This shows that typically one day in two are rainy in December to February. Occasionally most of the days are rainy.</p>
<p>Boxplots are essentially a 5-number summary of the data, (with potential outliers also shown). The <strong><em>Prepare &gt; Column: Reshape &gt; Column Summaries, Fig. 2.2h,</em></strong> dialogue can provide the same summaries numerically.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 49%">
<col style="width: 49%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.2g The number of rain days</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.2h Summary dialogue on the Prepare menu</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1408.png" style="width:3.2808in;height:3.43955in"></td>
<td style="text-align: left;"><img src="media/image1421.png" style="width:2.72443in;height:2.69121in"></td>
</tr>
</tbody>
</table>
<p>Summarise both the monthly totals and the number of raindays, with the month as the factor, as shown in Fig. 2.2i. Then choose the Summaries button and complete the sub-dialogue as shown in Fig. 2.2j.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 52%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th><p><strong><em>Fig. 2.2i The Summary dialogue</em></strong></p>
<p><strong><em>Prepare &gt; Column: Reshape &gt; Column Summaries</em></strong></p></th>
<th><strong><em>Fig. 2.2j Summaries sub-dialogue</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><img src="media/image107 9.png" style="width:3.20563in;height:3.34338in"></td>
<td><img src="media/image1065.png" style="width:2.73372in;height:3.67453in"></td>
</tr>
</tbody>
</table>
<p>The results are in a third data frame. It just has 12 rows as shown in Fig. 2.2k. The summaries are clearer if they are in order (which we did already for Fig. 2.2k).</p>
<p><strong><em>Right-click in the name field</em></strong> of this data frame and choose the option to <strong><em>Reorder columns</em></strong>, Fig. 2.2l.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 49%">
<col style="width: 49%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.2k Resulting summary data</em></strong></th>
<th style="text-align: left;"><strong><em>Fig 2.2l Right-click menu to reorder columns</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1078.png" style="width:3.51673in;height:2.44292in"></td>
<td style="text-align: left;"><img src="media/image1074.png" style="width:2.41931in;height:2.46411in"></td>
</tr>
</tbody>
</table>
<p>In the Reorder dialogue, use the <strong><em>arrow keys</em></strong> to change the position of the columns in the data frame.</p>
<p>With the summaries in a sensible order, they are now transferred to the results (output) window.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 48%">
</colgroup>
<thead>
<tr class="header">
<th><p><strong><em>Fig. 2.2m Reorder the resulting columns</em></strong></p>
<p><strong><em>Right-Click &gt; Reorder Column(s)</em></strong></p></th>
<th><p><strong><em>Fig. 2.2n Simplify column names</em></strong></p>
<p><strong><em>Right-click &gt; Rename Column</em></strong></p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><img src="media/image1080. png" style="width:3.09828in;height:2.21875in"></td>
<td><img src="media/image1077.p ng" style="width:3.0263in;height:2.08349in"></td>
</tr>
</tbody>
</table>
<p>Before this, we renamed some of the columns to give shorter names. This again used the <strong><em>right-click</em></strong> menu, Fig 2.2l. The rename dialogue is shown in Fig. 2.2n.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 44%">
<col style="width: 54%">
</colgroup>
<thead>
<tr class="header">
<th><p><strong><em>Fig. 2.2o View Data dialogue</em></strong></p>
<p><strong><em>Prepare &gt; Data Frame &gt; View Data</em></strong></p></th>
<th><strong><em>Fig. 2.2n The Monthly number of rain days</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><img src="media/image1091.png" class="img-fluid"> {width=“2.7121620734908136in” height=“2.720417760279965in”}</td>
<td><img src="media/image1 075.jpg" style="width:3.3783in;height:2.30157in"></td>
</tr>
</tbody>
</table>
<p>Now use the <strong><em>Prepare &gt; Data Frame &gt; View Data</em></strong> dialogue, Fig. 2.2o, to transfer the rainfall totals and then the number of rain days to the results window. The results for the number of rain days are shown in Fig. 2.2p.</p>
</section>
<section id="the-objectives" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="the-objectives"><span class="header-section-number">3.3</span> The objectives</h2>
<p>Section 2.2 explored the data and examined the seasonal pattern of the rainfall at Moorings. It also made use of the three menus, File, Prepare and Describe and well as the right-click menu. The main objective, however, was to see if there is evidence of rainfall change rather than to investigate the seasonal pattern.</p>
<p>We first examine the annual totals and the total number of rain days. These are the totals from July to June, so they cover each season.</p>
<p>Some “housekeeping” is a preliminary. The 3<sup>rd</sup> data-frame is no longer needed. Right-click on the bottom tab a and choose the option to delete, Fig. 2.3a. The dialogue shown in Fig. 2.3b opens. Just press ok.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 30%">
<col style="width: 68%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.3a Right-click on the bottom tab</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.3b Delete a data frame</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1086.png" style="width:2.15289in;height:1.68759in"></td>
<td style="text-align: left;"><img src="media/image1081.png" style="width:3.80764in;height:2.32324in" alt="C:\Users\ROGERS~1\AppData\Local\Temp\SNAGHTML1e674805.PNG"></td>
</tr>
</tbody>
</table>
<p>Use <strong><em>Prepare &gt; Column: Reshape &gt; Column Summaries</em></strong> and complete the dialogue and sub-dialogue as shown in Fig. 2.3c and Fig. 2.3d to produce the seasonal totals.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 51%">
<col style="width: 47%">
</colgroup>
<thead>
<tr class="header">
<th><p><strong><em>Fig. 2.3c Produce the annual totals</em></strong></p>
<p><strong><em>Prepare &gt; Column: Reshape &gt; Column Summaries</em></strong></p></th>
<th><strong><em>Fig. 2.3d The Summaries sub-dialogue</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/image1057 .png" style="width:3.19367in;height:3.34039in" class="figure-img"></p>
<figcaption>C:\Users\R OGERS~1\AppData\Local\Temp\SN AGHTML1b0bb1d.PNG</figcaption>
</figure>
</div></td>
<td><img src="media/image1048.pn g" style="width:2.83124in;height:3.80561in"></td>
</tr>
</tbody>
</table>
<p>The results are shown in Fig. 2.3 e after the steps explained below. First, notice in Fig. 2.3e that there were only 4 months in the first season, and the annual summary was therefore set to missing[^3].</p>
<table class="caption-top table">
<colgroup>
<col style="width: 49%">
<col style="width: 49%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.3e Resulting annual data</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.3f Menu for a text substring</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1092.png" style="width:2.94072in;height:3.52182in"></td>
<td style="text-align: left;"><img src="media/image1053.png" style="width:3.02793in;height:2.81264in"></td>
</tr>
</tbody>
</table>
<p>A numeric column for the year (season) is needed for the time series graphs. Hence, as shown below, we produce the second column, called s_yr, also shown in Fig. 2.3e.</p>
<p>Use <strong><em>Prepare &gt; Column: Text &gt; Transform</em></strong>, Fig. 2.3f. Complete the resulting dialogue, as shown in Fig. 2.3g, to give just the starting year of the season. The resulting variable is shown in Fig. 2.3e.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 56%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th><p><strong><em>Fig. 2.3g The Substring Option</em></strong></p>
<p><strong><em>Prepare &gt; Column:Text &gt; Transform</em></strong></p></th>
<th><strong><em>Fig. 2.3h Convert Column to Numeric</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><img src="media/imag e1056.png" style="width:3.45986in;height:3.00122in"></td>
<td><img src="media/image1076.png" class="img-fluid">{ width=“2.003675634295713in” hei ght=“2.8906255468066493in”}</td>
</tr>
</tbody>
</table>
<p>Use the <strong><em>right-click</em></strong> menu, Fig. 2.3h to convert the resulting s_yr column to numeric.</p>
<p>After a little further housekeeping from the right-click menu, to <strong><em>rename</em></strong>, <strong><em>re-orde</em></strong>r and <strong><em>delete</em></strong> columns, the annual data are as shown in Fig. 2.3e above.</p>
<p>Now for the time-series graphs. They can be produced using the <strong><em>Describe &gt; Specific &gt; Line Plot</em></strong> dialogue, but this type of graph is just what is needed for the PICSA-style rainfall graphs, so we use the special climatic menu for the first time.</p>
<p>Use <strong><em>Climatic &gt; PICSA &gt; Rainfall Graph</em></strong>. Complete as shown in Fig. 2.3i. Press the <strong>PICSA Options</strong> button and complete the Lines ab as shown in Fig. 2.3j to add (and label) a horizontal line for the mean.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 45%">
<col style="width: 52%">
</colgroup>
<thead>
<tr class="header">
<th><p><strong><em>Fig. 2.3i PICSA Rainfall graph dialogue</em></strong></p>
<p><strong><em>Climatic &gt; PICSA &gt; Rainfall Graph</em></strong></p></th>
<th><strong><em>Fig. 2.3j Add a line showing the mean</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><img src="media/image1059.png" style="width:2.79572in;height:2.51954in"></td>
<td><img src="media/image10 55.png" style="width:3.26365in;height:2.3179in"></td>
</tr>
</tbody>
</table>
<p>The resulting graph is shown in Fig 2.3k[^4]. <strong><em>Return to the dialogue</em></strong> and put <strong><em>raindays</em></strong> as the y-variable to give the results in Fig. 2.3l.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 49%">
<col style="width: 49%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.3k Seasonal rainfall totals</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.3l Number of rain days</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1058.png" style="width:3.01733in;height:1.50165in"></td>
<td style="text-align: left;"><img src="media/image1064.png" style="width:2.87199in;height:1.42931in"></td>
</tr>
</tbody>
</table>
<p>These graphs indicate large inter-annual variability, but they don’t seem to show a trend. That is important because, if you can attribute your farming problems to climate change, then there may be nothing you can do. But coping with the variability is what farmers have always had to do.</p>
<p>With results such as shown in Fig. 2.3k and 2.3l you can start comparing risks for different options in your farming and in other enterprises. That sort of idea is discussed in PICSA workshops.</p>
<p>Some may find the graph shown above to be convincing evidence that, with rainfall, the pressing problem is variability, rather than change. We stress that there IS climate change, and similar graphs with temperature data show a trend. If the temperatures have changed, then the “system” has changed, and it follows that other elements including rainfall will be affected. Currently, however, with this sort of analysis, it is usually not yet possible to determine which way the pattern of rainfall may change. It is difficult to detect a small change when the inter-annual variability is so large. And, even if a change is detected, coping as well as possible with the variability must be a good thing to do.</p>
<p>Some people are not convinced by graphs such as are shown above. A common statement is that the annual totals that might still be similar, but the season is shorter, because planting is delayed, etc. We examine this in more detail in Chapter 7. There the daily data are used to define the start, end and length of the season as well as to examine dry spells and extremes during the season. With the monthly total, the examination can start by repeating the analysis above, but just for November and December, when the season starts.</p>
<p><strong><em>Return to the monthly data frame</em></strong> and <strong><em>filter</em></strong> to examine just those months. So, make sure you are on the monthly data. <strong><em>Right click</em></strong> as usual and choose <strong><em>Filter</em></strong>, Fig. 2.3m</p>
<table class="caption-top table">
<colgroup>
<col style="width: 26%">
<col style="width: 72%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.3m Right-click for Filter</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.3n The filter dialogue</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1104.png" style="width:2.88588in;height:3.65868in"></td>
<td style="text-align: left;"><img src="media/image1106.png"><img src="media/image1106.png"><img src="media/image1107.png" style="width:3.24375in;height:3.2541in" alt="C:\Users\ROGERS~1\AppData\Local\Temp\SNAGHTML1993cb5.PNG"></td>
</tr>
</tbody>
</table>
<p>In Fig. 2.3n, click to <strong><em>Define new Filter</em></strong>. Complete the sub-dialogue as shown in Fig. 2.3o. The steps are as follows:</p>
<ol type="1">
<li><p><strong><em>Choose the month</em></strong> column</p></li>
<li><p><strong><em>Select Nov and Dec</em></strong> as shown in Fig. 2.3p</p></li>
<li><p>Click to <strong><em>Add Condition</em></strong></p></li>
<li><p>Press <strong><em>Return</em></strong></p></li>
</ol>
<table class="caption-top table">
<colgroup>
<col style="width: 49%">
<col style="width: 49%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.3o Defining the filter</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.3p The filtered data</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1135.png" style="width:3.99193in;height:2.85751in"></td>
<td style="text-align: left;"><img src="media/image1131.png" style="width:2.05557in;height:2.97506in"></td>
</tr>
</tbody>
</table>
<p>Back on the main filter dialogue, just <strong><em>press Ok</em></strong>. The data are now as shown in Fig. 2.3p. The first column is in red and this shows a filter is in operation. Also, at the bottom of the data frame, you see there are now 176 rows (months) of data to analyse, out of the original 1062 rows.</p>
<p>The other data have not gone away. If ever you wish to return, then just press right-click as before, Fig. 2.3m and choose the last option to <strong><em>Remove Current Filter</em></strong>.</p>
<p>Now it is quick to repeat the steps above for this analysis. It is simpler to recall the last dialogues as shown in Fig. 2.3q.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 49%">
<col style="width: 49%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.3q Recall the last dialogues</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.3r The Column Statistics dialogue</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1112.png" style="width:2.60356in;height:2.74636in"></td>
<td style="text-align: left;"><img src="media/image1130.png" style="width:3.31515in;height:3.4576in"></td>
</tr>
</tbody>
</table>
<p>The Column Statistics dialogue and sub-dialogue remain completed from before, Fig. 2.3r. So just <strong><em>press Ok</em></strong>.</p>
<p>The new columns have added to the existing annual sheet. So, go straight to the PICSA Rainfall Graphs dialogue again. <strong><em>Choose the new variable</em></strong> for the November-December totals and press OK. The mean is now 286mm for the 2 months. Repeat for the number of rain days to give the graphs for the filtered data, see Fig. 2.3s and 2.3t.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 48%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.3s Rainfall totals Nov-Dec</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.3t Number of rain days Nov-Dec</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1136.png" style="width:2.96668in;height:1.47644in"></td>
<td style="text-align: left;"><img src="media/image1120.png" style="width:3.03197in;height:1.50893in"></td>
</tr>
</tbody>
</table>
<p>One feature of the data in Fig. 2.3s is that had the record started in 1981, then it might have given an impression of an upward trend in the rainfall total. The longer record shows that this sort of conclusion should be treated with considerable caution!</p>
<p>These graphs start to satisfy the objective of examining the rainfall data in Southern Zambia for trends. The results should be considered as provisional if only because they are from just a single station and only use the monthly data. We suggest they make a case for a more complete analysis with multiple stations.</p>
</section>
<section id="comparing-satellite-and-station-data" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="comparing-satellite-and-station-data"><span class="header-section-number">3.4</span> Comparing satellite and station data</h2>
<p>Our proposed objective is to report on the feasibility of using satellite estimates of sunshine hours to supplement the information from station data. The station network for sunshine or radiation is sparse in many countries. Where it exists the records often have many missing values.</p>
<p>Estimates of daily hours of sunshine are also available from the EUMETSAT CMSAF (Climate Monitoring Satellite Application Facility) for about 5km square pixels. The data are available from 1983 and may be downloaded free of charge. These data are in NetCDF files and examples from a few locations have been downloaded and are the R-Instat library.</p>
<p>Data from Dodoma, Tanzania was analysed in the second tutorial and the same dataset is used here. In this exercise, these data are merged with the corresponding satellite data and the two variables are then compared.</p>
<p>As in the tutorial use <strong><em>File &gt; Open From Library</em></strong>. Choose the <strong><em>Instat collection</em></strong>. Browse to the <strong><em>Climatic directory</em></strong> and choose the <strong><em>Original Climatic Guide datasets</em></strong>. Choose just the <strong><em>Dodoma</em></strong> sheet, Fig. 2.4a.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 49%">
<col style="width: 49%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.4a Importing the Dodoma data</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.4b Add a Date column</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1083.png" style="width:3.17958in;height:2.6814in"></td>
<td style="text-align: left;"><img src="media/image1101.png" style="width:2.83037in;height:2.6954in"></td>
</tr>
</tbody>
</table>
<p>Once imported use <strong><em>Prepare &gt; Column: Date &gt; Make Date</em></strong>, Fig. 2.4b to construct a date column from the Year, Month, Day columns. Name the resulting column as <strong><em>Date</em></strong>, see Fig. 2.4b.</p>
<p>Now use <strong><em>File &gt; Import and Tidy NetCDF File</em></strong>, Fig. 2.4c. Choose the option <strong><em>From Library</em></strong> and the file that starts <strong><em>CMSAF_SDU</em></strong> (for sunshine duration). This file contains just the data from the nearest pixel to the Dodoma station data.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 67%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.4c Import the CMSAF satellite data</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.4d Change the name to Date</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1088.png" style="width:2.98774in;height:1.78115in" alt="C:\Users\ROGERS~1\AppData\Local\Temp\SNAGHTML2bdf480.PNG"></td>
<td style="text-align: left;"><img src="media/image1085.png" style="width:3.03993in;height:1.77358in"></td>
</tr>
</tbody>
</table>
<p>Once imported, <strong><em>right-click</em></strong> to change the name of the last column from <strong><em>time_date</em></strong> to <strong><em>Date</em></strong>, i.e.&nbsp;to the same name as in the station data, Fig. 2.4d[^5].</p>
<table class="caption-top table">
<colgroup>
<col style="width: 48%">
<col style="width: 49%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.4e The Merge dialogue</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.4f Sub-dialogue to add just SDU</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1111.png" style="width:3.11179in;height:2.50767in"></td>
<td style="text-align: left;"><img src="media/image1093.png" style="width:3.24524in;height:2.27735in"></td>
</tr>
</tbody>
</table>
<p>Use <strong><em>Prepare &gt; Column: Reshape &gt; Merge</em></strong> and complete the dialogue as shown in Fig. 2.4e. It chooses to match on the Date columns, which is what we want. That is why we gave them the same name in the two data frames[^6].</p>
<p>The SDU column is all we need from the satellite data. So, press the <strong><em>Merge Options</em></strong> button in Fig. 2.4e. Use the <strong><em>Columns to Include</em></strong> tab and complete as shown in Fig. 2.4f. Press <strong><em>Return</em></strong> and then Ok.</p>
<p>Now check, using <strong><em>Describe &gt; One Variable &gt; Summarise</em></strong> on the merged data. Choose all the columns and press Ok. The results are in Fig. 2.4g.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 52%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th><p><strong><em>Fig. 2.4g Results from One Variable Summarise</em></strong></p>
<p><strong><em>From Describe &gt; One Variable &gt; Summarise</em></strong></p></th>
<th><p><strong><em>Fig. 2.4h Generate columns from the Date</em></strong></p>
<p><strong><em>Prepare &gt; Column: Date &gt; Make Date</em></strong></p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><img src="media/image10 97.png" style="width:3.24941in;height:2.5164in"></td>
<td><img src="media/image1096.pn g" style="width:2.79982in;height:3.59451in"></td>
</tr>
</tbody>
</table>
<p>An encouraging sign in Fig. 2.4g is that summary statistics for the Sunh (from the station) and SDU (from the satellite) are almost identical. The maximum of 16 hours for SDU is a little concerning, because that is probably longer than the maximum day length at Dodoma.</p>
<p>Some “housekeeping” is useful, because the results in Fig. 2.4g also show there are some missing values in the year and day of month column[^7].</p>
<p><strong><em>Right-click</em></strong> and <strong><em>delete the first 3 columns</em></strong>. Then generate them again (without missing values) using <strong><em>Prepare &gt; Column: Date &gt; Use Date</em></strong> dialogue, Fig. 2.4h. Then use Describe &gt; One Variable &gt; Summarise again to confirm the new columns do not have missing values.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 49%">
<col style="width: 49%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.4i Resulting merged data</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.4j Correlations dialogue</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1095.png" style="width:3.285in;height:2.76021in"></td>
<td style="text-align: left;"><img src="media/image1108.png" style="width:2.79248in;height:2.81191in"></td>
</tr>
</tbody>
</table>
<p><strong><em>Right-Click</em></strong> and choose <strong><em>Reorder Column(s)</em></strong>. The resulting data should be like that shown in Fig. 2.4i.</p>
<p>We are now ready to compare the satellite data (SDU) with the station values (sunh).</p>
<table class="caption-top table">
<colgroup>
<col style="width: 67%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.4k Correlations sub-dialogue</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.4l Results</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1162.png" style="width:2.90561in;height:3.1245in" alt="C:\Users\ROGERS~1\AppData\Local\Temp\SNAGHTML3dae776.PNG"></td>
<td style="text-align: left;"><img src="media/image1186.png" style="width:3.09444in;height:3.09444in"></td>
</tr>
</tbody>
</table>
<p>Use <strong><em>Describe &gt; Multivariate &gt; Correlations</em></strong>. and enter SDU and sunh, Fig. 2.4j. Click on <strong><em>Options</em></strong> and choose <strong><em>Scatter Matrix</em></strong>. Fig. 2.4k. The results are in Fig. 2.4l.</p>
<p>The results in Fig. 2.4l look promising. The shape of the satellite (bottom right) and station data (top left) look similar and the correlation is a reasonably satisfactory 0.87.</p>
<p>What is next? These data (both sunh and SDU) are time series. Time series have seasonality, and this should usually be reflected in the analysis.</p>
<p>So, return to the <strong><em>correlations dialogue</em></strong> and sub-dialogue, Fig. 2.4k and <strong><em>add the month factor</em></strong>.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 49%">
<col style="width: 49%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.4m Including months in the analysis</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.4n The Histogram dialogue</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1164.png" style="width:2.93056in;height:2.93056in"></td>
<td style="text-align: left;"><img src="media/image1177.png" style="width:3.06435in;height:2.49359in"></td>
</tr>
</tbody>
</table>
<p>The results in Fig. 2.4m show that the shape of both variables depends on the month. In particular (as expected) there is often less sun in the rainy season (November to April) and the correlations are then higher. The display, in Fig. 2.4m, is also confusing as there are now too many groups to see clearly what is happening.</p>
<p>It is time to split up the components of the results in Fig. 2.4m to compare the satellite and station data in more detail.</p>
<p>Use <strong><em>Describe &gt; Specific &gt; Histogram</em></strong>, Fig. 2.4n.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 49%">
<col style="width: 49%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.4o A set of density graphs</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.4p Include facets in the graph</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1176.png" style="width:2.85615in;height:2.82179in"></td>
<td style="text-align: left;"><img src="media/image1178.png" style="width:3.22242in;height:2.83336in"></td>
</tr>
</tbody>
</table>
<p>Change the button at the top of Fig. 2.4o to Density and click on Plot Options.</p>
<p>In the sub-dialogue, Fig. 2.4p tick the checkbox to include facets and include the month factor.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 48%">
<col style="width: 49%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.4q Multiple variables</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.4r Resulting graphs</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1169.png" style="width:1.83833in;height:1.87551in"></td>
<td style="text-align: left;"><img src="media/image1182.png" style="width:4.20039in;height:2.09042in"></td>
</tr>
</tbody>
</table>
<p>Return to the main dialogue, and click to include multiple variables, Fig. 2.4q. Include Sunh and SDU and press Ok. The graphs from Fig. 2.4m are now overlaid, so they can easily be compared, and displayed separately for each month. Fig. 2.4r shows the pattern is similar in each month. We also see the sharp peaks in the dry months, particularly from June to October, when most days have about 10 hours of sunshine per day.</p>
<p>Fig. 2.4r shows the pattern of sunshine is similar from the satellite and station data. It does not, however, show whether a day in any month with more sunshine at the station (sunh), also had more sunshine from the satellite data (SDU). For this, we look at the scatterplot from Fig. 2.4m again broken into the monthly facets.</p>
<p>Use <strong><em>Describe &gt; Specific &gt; Scatterplot</em></strong> and complete the dialogue as shown in Fig. 2.4s. Press on <strong><em>Plot Options</em></strong> and include the months as facets, Fig. 2.4t, just as earlier in Fig. 2.4p.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 67%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.4s Scatterplot dialogue</em></strong></th>
<th style="text-align: left;"><strong><em>Fig. 2.4t Plotting sub-dialogue</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1181.png" style="width:3.0505in;height:2.89282in" alt="C:\Users\ROGERS~1\AppData\Local\Temp\SNAGHTML6ce7e6e.PNG"></td>
<td style="text-align: left;"><img src="media/image1187.png" style="width:2.94465in;height:2.46556in"></td>
</tr>
</tbody>
</table>
<p>The resulting set of graphs is shown in Fig. 2.4u.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 97%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong><em>Fig. 2.4u Scatterplots for each month</em></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><img src="media/image1163.png" style="width:6.13145in;height:3.05146in"></td>
</tr>
</tbody>
</table>
<p>Our initial objective was to examine whether the satellite estimates may be useful in Tanzania to supplement the station data. The results are promising, but this just the start. There are many possible next steps, including an examination of the occasions when the two variables differ substantially. The analysis should also be extended to multiple stations. We also need more numerical summaries to measure how close the two variables are. Chapter 10 considers this subject in more detail.</p>
</section>
<section id="in-conclusion" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="in-conclusion"><span class="header-section-number">3.5</span> In conclusion</h2>
<p><mark>To be added</mark></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Chapter_1_About_this_guide.html" class="pagination-link" aria-label="About this guide">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">About this guide</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Chapter_3_Using_RInstat_effectively.html" class="pagination-link" aria-label="Using R-Instat effectively">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Using R-Instat effectively</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>